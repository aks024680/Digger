[README.md](https://github.com/user-attachments/files/22311447/README.md)
# 2D遊戲引擎

一個功能完整的2D遊戲引擎，支持角色移動、道具收集、事件觸發和CG動畫播放。

## 功能特色

### 🎮 核心功能
- **角色移動系統**: 支持方向鍵和WASD控制
- **道具系統**: 可收集、使用道具，支持道具欄管理
- **事件系統**: 基於事件的遊戲邏輯處理
- **CG動畫系統**: 支持全屏CG動畫播放
- **場景管理**: 多場景切換支持
- **碰撞檢測**: 精確的物件碰撞檢測

### 🎯 遊戲機制
- **道具收集**: 點擊道具即可收集到道具欄
- **道具使用**: 點擊道具欄中的道具可使用
- **CG觸發**: 特定道具可觸發CG動畫
- **條件達成**: 收集足夠道具後觸發特殊事件

## 快速開始

1. 直接在瀏覽器中打開 `index.html`
2. 使用方向鍵或WASD移動藍色角色
3. 點擊黃色道具收集它們
4. 收集古老卷軸觸發CG動畫
5. 收集3個道具後觸發完成CG

## 操作說明

### 移動控制
- **方向鍵**: ↑↓←→ 或 WASD 鍵
- **對角線移動**: 自動正規化速度

### 道具互動
- **收集道具**: 點擊道具即可收集
- **使用道具**: 點擊道具欄中的道具
- **查看道具**: 滑鼠懸停顯示道具名稱

### CG動畫
- **自動播放**: 觸發條件達成時自動播放
- **手動關閉**: 點擊右上角 × 按鈕
- **自動關閉**: 根據設定的時間自動關閉

## 技術架構

### 核心類別

#### GameEngine
遊戲引擎主類，負責：
- 場景管理和切換
- 遊戲循環控制
- 輸入事件處理
- 渲染管理

#### Player
玩家角色類，支持：
- 流暢的移動控制
- 邊界碰撞檢測
- 方向指示器

#### Item
道具類，功能包括：
- 滑鼠懸停檢測
- 點擊收集
- 道具數據管理

#### Inventory
道具欄系統：
- 道具存儲管理
- UI自動更新
- 道具使用處理

#### CGSystem
CG動畫系統：
- 全屏動畫播放
- 自動/手動關閉
- 事件觸發機制

### 事件系統
基於觀察者模式的事件系統，支持：
- 自定義事件註冊
- 事件數據傳遞
- 多監聽器支持

## 擴展開發

### 添加新道具
```javascript
const newItem = new Item(x, y, {
    name: '道具名稱',
    icon: '🎮',
    description: '道具描述',
    dialogue: '獲得道具時的對話',
    onUse: () => {
        // 使用道具時的邏輯
    }
});
```

### 創建新場景
```javascript
class NewScene extends Scene {
    init() {
        // 場景初始化邏輯
    }
    
    update(deltaTime) {
        // 場景更新邏輯
    }
    
    render(ctx) {
        // 場景渲染邏輯
    }
}
```

### 添加CG動畫
```javascript
const cgData = {
    title: 'CG標題',
    image: '圖片URL或SVG',
    dialogue: '對話文字',
    duration: 5000 // 自動關閉時間（毫秒）
};
gameEngine.cgSystem.playCG(cgData);
```

## 瀏覽器兼容性

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## 文件結構

```
├── index.html          # 主頁面
├── styles.css          # 樣式文件
├── gameEngine.js       # 遊戲引擎核心
├── game.js            # 示例遊戲場景
└── README.md          # 說明文檔
```

## 開發建議

1. **性能優化**: 大量物件時考慮物件池技術
2. **音效支持**: 可擴展音效系統
3. **存檔系統**: 添加本地存儲支持
4. **多場景**: 利用場景系統創建複雜遊戲
5. **UI擴展**: 添加更多遊戲UI元素

## 授權

MIT License - 可自由使用和修改
